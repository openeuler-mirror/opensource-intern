(function(){var e={1477:function(e,t,n){"use strict";n.d(t,{KI:function(){return y},eQ:function(){return f},Qg:function(){return w},Hk:function(){return b},LQ:function(){return g},Sp:function(){return k},pl:function(){return C},As:function(){return v},yq:function(){return d},Mv:function(){return l},d5:function(){return _},wz:function(){return h},Ip:function(){return p}});n(1703);var a=n(6265),r=n.n(a),o=n(530),i=n.n(o),s=n(1481),u=n(238);const c=r().create({baseURL:"/ui",timeout:5e3});c.interceptors.request.use((e=>{const t=(0,s.L)();return t.token&&(e.headers.Authorization="Bearer "+t.token),i().start(),e}),(function(e){return Promise.reject(e)})),c.interceptors.response.use((e=>(i().done(),e)),(e=>{if(i().done(),401==e.response.status){console.log("token needed");const e=(0,s.L)();e.UserLoginOut(),u.Z.push("/login")}return Promise.reject(new Error("fail"))}));var m=c;const l=e=>m({url:"/user/register",method:"post",data:e}),d=e=>m({url:"/user/login",method:"post",data:e}),h=e=>m({url:"/user/update_info",method:"put",data:e}),p=e=>m({url:"/user/update_passwd",method:"put",data:e}),g=(e,t)=>m({url:"/library/list",method:"get",params:{limit:e,offset:t}}),f=e=>(console.log("delibaaa",e),m({url:"/library/remove",method:"delete",params:{name:e}})),v=()=>m({url:"/library/count",method:"get"}),b=(e,t,n)=>m({url:"/image/list",method:"get",params:{library:e,limit:t,offset:n}}),y=e=>m({url:"/image/remove",method:"delete",params:{name:e}}),w=(e,t)=>m({url:"/tag/remove",method:"delete",params:{name:e,tag:t}}),C=e=>m({url:"/image/count",method:"get",params:{library:e}}),_=e=>m({url:"/tag/count",method:"get",params:{name:e}}),k=(e,t,n)=>m({url:"/tag/list",method:"get",params:{name:e,limit:t,offset:n}})},9811:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var a=n(9242),r=n(1229),o=(n(1180),n(3396)),i=n(4870),s=n(50),u=n(1592),c=n(6751),m={__name:"App",setup(e){const t=(0,c.E)(),n=(0,o.Fl)((()=>t.locale)),a={zhCn:s.Z,en:u.Z},m=(0,o.Fl)((()=>a[n.value]));return(e,t)=>{const n=(0,o.up)("router-view"),a=r.BR;return(0,o.wg)(),(0,o.j4)(a,{namespace:"ep",locale:(0,i.SU)(m)},{default:(0,o.w5)((()=>[(0,o.Wm)(n)])),_:1},8,["locale"])}}};const l=m;var d=l,h=n(238),p=n(7139),g=(n(4415),n(267),n(1373)),f=n(4329),v={message:{login:"登录",register:"注册",username:"用户名",username_input:"请输入用户名，不超过255个字符",username_check:"不超过255个字符",password:"密码",password_check:"不超过30个字符",password_input:"请输入密码",name:"全名",name_input:"请输入全名",name_check:"不超过20个字符",checkPass:"确认密码",checkPass_input:"请确认密码",checkPass_match:"密码不匹配",email:"邮箱",email_input:"请输入邮箱",email_check:"邮箱格式应是name{'@'}example.com",comment:"注释",person_center:"个人中心",log_out:"退出登录",user_profile:"用户设置",change_password:"修改密码",cancel:"取消",confirm:"确定",CurrentPassword:"原密码",CurrentPassword_input:"请输入原密码",NewPassword:"新密码",NewPassword_input:"新输入新密码",CheckNewPassword:"确认新密码",CheckNewPassword_input:"请确认新密码",CheckNewPassword_match:"新密码不匹配",Library:"项目库",SystemManage:"系统管理",LibraryName:"仓库名",LibrarySize:"仓库空间 (MiB)",LibrarySizeNoMB:"仓库空间 ",RepCount:"镜像数",TagCount:"镜像标签数",remove:"删除",Operation:"操作",ImageName:"镜像名   ",TagsCount:"版本数   ",ImageSize:"镜像空间 (MiB) ",ImageSizeNoMB:"镜像空间 ",ImageFirstCreated:"首次创建时间",ImageLastCredated:"最后创建时间",ImageLastPull:"最后拉取时间",ImageLastPush:"最后推送时间",CreationTime:"创建时间",PullTime:"拉取时间",PushTime:"推送时间",Tag:"版本",Size:"存储空间",TagSize:"版本空间 (MiB)",TagSizeNoMB:"版本空间 "}},b={message:{login:"Login",register:"Register",username:"username",username_input:"please your username,maximum length should be 255 characters",username_check:"maximum length should be 255 characters",password:"password",password_check:"maximum length should be 30 characters",password_input:"please input password",name:"First and last name",name_input:"please input your First and last name",name_check:"maximum length should be 20 characters",checkPass:"Confirm Password",checkPass_input:"please confirm password",checkPass_match:"Password mismatch",email:"email",email_input:"please input email",email_check:"Email should be a valid email address like name{'@'}example.com.",comment:"Comments",person_center:"Personal Center",log_out:"Log out",user_profile:"User Profile",change_password:"Change Password",cancel:"Cancel",confirm:"Confirm",CurrentPassword:"Current Password",CurrentPassword_input:"please input current password",NewPassword:"New Password",NewPassword_input:"please input new password",CheckNewPassword:"Confirm New Password",CheckNewPassword_input:"please confirm new password",CheckNewPassword_match:"new password mismatch",Library:"Library",SystemManage:"Administration",LibraryName:"Library Name",LibrarySize:"Library Size (MiB)",LibrarySizeNoMB:"Library Size ",RepCount:"Repositories Count",TagCount:"Tags Count",remove:"Remove",Operation:"Operations",ImageName:"Image Name   ",TagsCount:"Tags Count   ",ImageSize:"Image Size (MiB) ",ImageSizeNoMB:"Image Size",ImageFirstCreated:"First Creation Time",ImageLastCredated:"Last Creation Time",ImageLastPull:"Last Pull Time",ImageLastPush:"Last Push Time",CreationTime:"Creation Time",PullTime:"Pull Time",PushTime:"Push Time",Tag:"Tag",Size:"Size",TagSize:"Tag Size (MiB)",TagSizeNoMB:"Tag Size "}};let y=(navigator.language||"en").toLowerCase();y="zh-cn"==y||"zh"==y?"zhCn":y;const w=(0,f.o)({fallbackLocale:"en",locale:sessionStorage.getItem("locale_lang")||y,messages:{zhCn:v,en:b}});var C=w;n(8611);(0,a.ri)(d).use((0,p.WB)()).use(h.Z).use(C).mount("#app");const _=(0,g.Z)();var k=_},238:function(e,t,n){"use strict";var a=n(2483),r=n(1481);const o=[{path:"/login",name:"Login",meta:{title:"登录"},component:()=>Promise.all([n.e(242),n.e(781),n.e(16)]).then(n.bind(n,9906))},{path:"/",redirect:"/library"},{path:"/home",name:"Home",component:()=>Promise.all([n.e(242),n.e(943),n.e(781),n.e(977)]).then(n.bind(n,2216)),children:[{path:"/library",name:"Library",component:()=>Promise.all([n.e(242),n.e(943),n.e(15),n.e(493)]).then(n.bind(n,1493))},{path:"/image",name:"Image",component:()=>Promise.all([n.e(242),n.e(943),n.e(15),n.e(8)]).then(n.bind(n,3008))}]}],i=(0,a.p7)({history:(0,a.PO)(),routes:o});i.beforeEach(((e,t,n)=>{const a=(0,r.L)(),o=a.token;o||"Login"==e.name?n():n({name:"Login"})})),t["Z"]=i},6751:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});var a=n(7139);const r=(0,a.Q_)("base",{state:()=>({locale:sessionStorage.getItem("locale_lang")||"zhCn",locale_label:sessionStorage.getItem("locale_lang_label")||"简体中文"}),actions:{updateLocale(e){this.locale=e},updateLocaleLabel(e){this.locale_label=e}}})},1481:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var a=n(7139),r=n(1477);const o=(0,a.Q_)("user",{state:()=>({username:localStorage.getItem("username")||"",name:localStorage.getItem("name")||"",email:localStorage.getItem("email")||"",admin:!1,comment:localStorage.getItem("comment")||"",token:localStorage.getItem("token")||""}),actions:{updateUserName(e){this.username=e},updateName(e){this.name=e},updateAdmin(e){this.admin=e},updateEmail(e){this.email=e},updateToken(e){this.token=e},updateComment(e){this.comment=e},async UserLogin(e){const t=await(0,r.yq)(e);if(200!=t.status)return!1;{const e=t.data;return this.updateUserName(e.username),localStorage.setItem("username",e.username),this.updateName(e.name),localStorage.setItem("name",e.name),this.updateAdmin(e.admin),this.updateEmail(e.email),localStorage.setItem("email",e.email),this.updateToken(e.token),localStorage.setItem("token",e.token),this.updateComment(e.comment),!0}},async UserRegister(e){const t=await(0,r.Mv)(e);if(200!=t.status)return!1;{const n=t.data;return console.log("user register",n),this.updateUserName(e.username),this.updateToken(n.token),this.updateName(e.name),this.updateEmail(e.email),this.updateComment(e.comment),!0}},async UserUpdate(e){const t=await(0,r.wz)(e);return 200==t.status&&(this.updateName(e.name),this.updateEmail(e.email),this.updateComment(e.comment),!0)},async UserPasswdUpdate(e){const t=await(0,r.Ip)(e);return 200==t.status},async UserLoginOut(){localStorage.removeItem("username"),this.updateUserName(""),localStorage.removeItem("name"),this.updateName(""),localStorage.removeItem("email"),this.updateEmail(""),localStorage.removeItem("comment"),this.updateComment(""),localStorage.removeItem("token"),this.updateToken(""),this.updateAdmin(!1)}}})},8611:function(){!function(e){var t,n,a,r,o,i='<svg><symbol id="icon-structure" viewBox="0 0 1024 1024"><path d="M896 645.888V608C896 519.808 824.256 448 736 448H512V384h32c52.928 0 96-43.072 96-96v-128C640 107.072 596.928 64 544 64h-128C363.072 64 320 107.072 320 160v128C320 340.928 363.072 384 416 384H448v64H224A160.192 160.192 0 0 0 64 608v37.888c-37.184 13.248-64 48.448-64 90.112v128c0 52.928 43.072 96 96 96h64c52.928 0 96-43.072 96-96v-128c0-52.928-43.072-96-96-96H128v-32C128 555.072 171.072 512 224 512H448v128h-32c-52.928 0-96 43.072-96 96v128c0 52.928 43.072 96 96 96h128c52.928 0 96-43.072 96-96v-128c0-52.928-43.072-96-96-96H512V512h224c52.928 0 96 43.072 96 96v32h-32c-52.928 0-96 43.072-96 96v128c0 52.928 43.072 96 96 96h64c52.928 0 96-43.072 96-96v-128c0-41.664-26.816-76.864-64-90.112zM384 288v-128a32 32 0 0 1 32-32h128a32 32 0 0 1 32 32v128a32 32 0 0 1-32 32h-128a32 32 0 0 1-32-32z m-192 448v128a32 32 0 0 1-32 32h-64a32 32 0 0 1-32-32v-128a32 32 0 0 1 32-32h64a32 32 0 0 1 32 32z m384 0v128a32 32 0 0 1-32 32h-128a32 32 0 0 1-32-32v-128a32 32 0 0 1 32-32h128a32 32 0 0 1 32 32z m320 128c0 17.6-14.4 32-32 32h-64a32.064 32.064 0 0 1-32-32v-128c0-17.6 14.4-32 32-32h64c17.6 0 32 14.4 32 32v128z"  ></path></symbol><symbol id="icon-user-filling" viewBox="0 0 1024 1024"><path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 160c70.4 0 128 57.6 128 128s-57.6 128-128 128-128-57.6-128-128 57.6-128 128-128z m236.8 507.733333c-23.466667 32-117.333333 100.266667-236.8 100.266667s-213.333333-68.266667-236.8-100.266667c-8.533333-10.666667-10.666667-21.333333-8.533333-32 29.866667-110.933333 130.133333-187.733333 245.333333-187.733333s215.466667 76.8 245.333333 187.733333c2.133333 10.666667 0 21.333333-8.533333 32z"  ></path></symbol><symbol id="icon-baitianmoshi" viewBox="0 0 1044 1024"><path d="M565.5552 860.16v163.84h-81.92v-163.84h81.92zM249.4464 729.23136l57.93792 57.91744-115.85536 115.85536-57.93792-57.93792 115.85536-115.83488z m550.2976 0l115.85536 115.83488-57.91744 57.93792-115.85536-115.85536 57.91744-57.91744zM524.5952 245.76c147.0464 0 266.24 119.1936 266.24 266.24s-119.1936 266.24-266.24 266.24-266.24-119.1936-266.24-266.24 119.1936-266.24 266.24-266.24z m0 81.92a184.32 184.32 0 1 0 0 368.64 184.32 184.32 0 0 0 0-368.64z m512 143.36v81.92h-163.84v-81.92h163.84z m-860.16 0v81.92h-163.84v-81.92h163.84zM860.7744 117.90336l57.93792 57.93792-115.85536 115.85536-57.91744-57.93792 115.83488-115.85536z m-672.31744 0l115.85536 115.85536-57.93792 57.93792-115.83488-115.85536L188.416 117.90336zM565.5552 0v163.84h-81.92V0h81.92z"  ></path></symbol><symbol id="icon-heianmoshi" viewBox="0 0 1024 1024"><path d="M179.285333 721.578667a390.570667 390.570667 0 0 0 326.4 174.506666c214.912 0 389.162667-171.733333 389.162667-383.573333 0-187.989333-137.301333-344.704-318.848-377.344 10.666667 39.253333 16.170667 80.085333 16.170667 121.6 0 237.994667-179.882667 434.517333-412.885334 464.810667z m-69.333333-81.237334h6.570667c214.912 0 389.12-171.690667 389.12-383.573333 0-53.504-11.093333-105.386667-32.298667-153.344L446.421333 42.666667l67.242667 1.109333C772.992 48 981.333333 256.554667 981.333333 512.512 981.333333 771.456 768.384 981.333333 505.685333 981.333333c-190.890667 0-361.002667-111.872-436.053333-281.344L42.666667 639.232l67.285333 1.109333z"  ></path></symbol></svg>',s=(s=document.getElementsByTagName("script"))[s.length-1].getAttribute("data-injectcss"),u=function(e,t){t.parentNode.insertBefore(e,t)};if(s&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(e){console&&console.log(e)}}function c(){o||(o=!0,a())}function m(){try{r.documentElement.doScroll("left")}catch(e){return void setTimeout(m,50)}c()}t=function(){var e,t=document.createElement("div");t.innerHTML=i,i=null,(t=t.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",(e=document.body).firstChild?u(t,e.firstChild):e.appendChild(t))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(t,0):(n=function(){document.removeEventListener("DOMContentLoaded",n,!1),t()},document.addEventListener("DOMContentLoaded",n,!1)):document.attachEvent&&(a=t,r=e.document,o=!1,m(),r.onreadystatechange=function(){"complete"==r.readyState&&(r.onreadystatechange=null,c())})}(window)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,a,r,o){if(!a){var i=1/0;for(m=0;m<e.length;m++){a=e[m][0],r=e[m][1],o=e[m][2];for(var s=!0,u=0;u<a.length;u++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[u])}))?a.splice(u--,1):(s=!1,o<i&&(i=o));if(s){e.splice(m--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[a,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,a){return n.f[a](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{8:"fd6d2936",15:"6155e554",16:"c9654449",242:"14ae9502",493:"ba9e0865",781:"3adb13e1",943:"c9a0c097",977:"ff33b4e0"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{8:"3d136800",15:"de82ddd5",16:"a4522d6c",242:"036d8bf3",493:"341bc5c6",977:"229e4c66"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="dockyard:";n.l=function(a,r,o,i){if(e[a])e[a].push(r);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),m=0;m<c.length;m++){var l=c[m];if(l.getAttribute("src")==a||l.getAttribute("data-webpack")==t+o){s=l;break}}s||(u=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=a),e[a]=[r];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var r=e[a];if(delete e[a],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e=function(e,t,n,a){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var o=function(o){if(r.onerror=r.onload=null,"load"===o.type)n();else{var i=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=i,u.request=s,r.parentNode.removeChild(r),a(u)}};return r.onerror=r.onload=o,r.href=t,document.head.appendChild(r),r},t=function(e,t){for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var r=n[a],o=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===e||o===t))return r}var i=document.getElementsByTagName("style");for(a=0;a<i.length;a++){r=i[a],o=r.getAttribute("data-href");if(o===e||o===t)return r}},a=function(a){return new Promise((function(r,o){var i=n.miniCssF(a),s=n.p+i;if(t(i,s))return r();e(a,s,r,o)}))},r={143:0};n.f.miniCss=function(e,t){var n={8:1,15:1,16:1,242:1,493:1,977:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=a(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,a){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var o=new Promise((function(n,a){r=e[t]=[n,a]}));a.push(r[2]=o);var i=n.p+n.u(t),s=new Error,u=function(a){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var o=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}};n.l(i,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,i=a[0],s=a[1],u=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(u)var m=u(n)}for(t&&t(a);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(m)},a=self["webpackChunkdockyard"]=self["webpackChunkdockyard"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(9811)}));a=n.O(a)})();
//# sourceMappingURL=app.a6a21221.js.map