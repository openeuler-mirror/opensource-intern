"use strict";(self["webpackChunkdockyard"]=self["webpackChunkdockyard"]||[]).push([[493],{1493:function(e,a,t){t.r(a),t.d(a,{default:function(){return O}});var l=t(5298),n=(t(1959),t(8179)),r=(t(2040),t(3396)),s=t(2268),i=t(4870),o=t(9811),u=t(6629),d=t(1264);const g={class:"dialog-footer"};var c={__name:"DelLibrary",setup(e){let a=(0,d.w)();const t=(0,i.iH)(!1);let c=(0,i.qj)({});o.Z.on("delete_library",(e=>{t.value=!0,c.name=e.name,c.size=e.size,c.images_count=e.images_count,c.tags_count=e.tags_count}));const m=async e=>{a.DelLibrary(e).then((()=>{t.value=!1,u.z8.success("Delete Success"),o.Z.emit("update_charts")})).catch((()=>{t.value=!1,u.z8.error("Delete Failure")}))};return(e,a)=>{const o=n.mi,u=l.d0;return(0,r.wg)(),(0,r.j4)(u,{modelValue:t.value,"onUpdate:modelValue":a[2]||(a[2]=e=>t.value=e),width:"20%",draggable:"",center:""},{footer:(0,r.w5)((()=>[(0,r._)("span",g,[(0,r.Wm)(o,{onClick:a[0]||(a[0]=e=>t.value=!1)},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(e.$t("message.cancel")),1)])),_:1}),(0,r.Wm)(o,{type:"primary",onClick:a[1]||(a[1]=e=>m((0,i.SU)(c).name))},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(e.$t("message.remove")),1)])),_:1})])])),default:(0,r.w5)((()=>[(0,r._)("h2",null,(0,s.zw)(e.$t("message.LibraryName"))+" : "+(0,s.zw)((0,i.SU)(c).name),1),(0,r._)("h3",null,(0,s.zw)(e.$t("message.LibrarySize"))+" : "+(0,s.zw)((0,i.SU)(c).size)+" (MiB)",1),(0,r._)("h3",null,(0,s.zw)(e.$t("message.RepCount"))+" : "+(0,s.zw)((0,i.SU)(c).images_count),1),(0,r._)("h3",null,(0,s.zw)(e.$t("message.TagCount"))+" : "+(0,s.zw)((0,i.SU)(c).tags_count),1)])),_:1},8,["modelValue"])}}};const m=c;var p=m,b=t(9776),h=(t(9404),t(4143)),w=(t(1863),t(4902)),y=(t(3156),t(247)),z=(t(200),t(8061)),_=(t(7952),t(5214),t(9242));const f=e=>((0,r.dD)("data-v-5b451f3f"),e=e(),(0,r.Cn)(),e),v={class:"demo-pagination-block",style:{"margin-top":"20px"}},C=f((()=>(0,r._)("div",{id:"test",style:{width:"100%",height:"600px"}},null,-1)));function k(e,a,t,l,i,o){const u=z.$Y,d=n.mi,g=z.eI,c=y.R,m=w.Dv,f=h.Kf,k=b.dq,S=p;return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",null,[(0,r.Wm)(k,{justify:"space-between",gutter:"40"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{span:13},{default:(0,r.w5)((()=>[(0,r.Wm)(g,{data:l.libraryStore.librarys,style:{width:"100%"},"max-height":"100%",stripe:"",border:"","default-sort":{prop:e.size,order:"descending"},onRowClick:l.ToDetails},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{fixed:"",prop:"name",label:e.$t("message.LibraryName")},null,8,["label"]),(0,r.Wm)(u,{prop:"size",label:e.$t("message.LibrarySize")},null,8,["label"]),(0,r.Wm)(u,{prop:"images_count",label:e.$t("message.RepCount")},null,8,["label"]),(0,r.Wm)(u,{prop:"tags_count",label:e.$t("message.TagCount")},null,8,["label"]),(0,r.Wm)(u,{fixed:"right",label:e.$t("message.Operation"),width:"120"},{default:(0,r.w5)((a=>[(0,r.Wm)(d,{link:"",type:"primary",size:"small",onClick:(0,_.iM)((e=>l.deleteRow(a.row)),["stop"])},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(e.$t("message.remove")),1)])),_:2},1032,["onClick"])])),_:1},8,["label"])])),_:1},8,["data","default-sort","onRowClick"]),(0,r._)("div",v,[(0,r.Wm)(c,{currentPage:l.currentPage,"onUpdate:currentPage":a[0]||(a[0]=e=>l.currentPage=e),"page-size":l.pageSize,"onUpdate:page-size":a[1]||(a[1]=e=>l.pageSize=e),"page-sizes":[5,10,15,20],disabled:l.disabled,background:l.background,layout:"sizes, prev, pager, next",total:l.libraryStore.library_total,onSizeChange:l.handleSizeChange,onCurrentChange:l.handleCurrentChange},null,8,["currentPage","page-size","disabled","background","total","onSizeChange","onCurrentChange"])])])),_:1}),(0,r.Wm)(m,{span:11},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{shadow:"hover",style:{height:"600px"}},{default:(0,r.w5)((()=>[C])),_:1})])),_:1})])),_:1})]),(0,r.Wm)(S)],64)}var S=t(543),W=t(542),D=t(6075),L=t(2015),$=t(12),N=t(203),U=t(4978),x=t(7049),R=t(4929),T=t(2483);S.D$([W.N,D.N,L.N,$.N,N.N,x.N,U.T]);var H={name:"LibraryList",setup(){let e=(0,d.w)();const a=(0,T.tv)();let t="";const l=(0,i.iH)(1),n=(0,i.iH)(10),s=(0,i.iH)(!0),u=(0,i.iH)(!1),g=a=>{e.GetLibrarys(a,0).then((()=>{let a=(0,R.i)(e.getName,e.getCharData);t.setOption(a)}))};function c(e,t){console.log("click row",e.name),a.push({name:"Image",query:{library:e.name}}),console.log("click column",t)}const m=a=>{e.GetLibrarys(n.value,(l.value-1)*n.value).then((()=>{let a=(0,R.i)(e.getName,e.getCharData);t.setOption(a)}))};function p(e){o.Z.emit("delete_library",e)}return o.Z.on("update_charts",(()=>{e.GetLibraryTotal().then((()=>{let a=(0,R.i)(e.getName,e.getCharData);t.setOption(a)}))})),(0,r.bv)((()=>{console.log("mount start"),e.GetLibraryTotal(),e.GetLibrarys(n.value,0).then((()=>{t=S.S1(document.getElementById("test")),window.addEventListener("resize",(()=>{t.resize()}));let a=(0,R.i)(e.getName,e.getCharData);t.setOption(a)}))})),{libraryStore:e,deleteRow:p,myEcharts:t,disabled:u,currentPage:l,background:s,pageSize:n,handleCurrentChange:m,handleSizeChange:g,ToDetails:c}}},P=t(89);const G=(0,P.Z)(H,[["render",k],["__scopeId","data-v-5b451f3f"]]);var O=G}}]);
//# sourceMappingURL=493.ba9e0865.js.map